# Comment out the probes you don't need
# CAREFUL: yaml is super sensitive to spaces - don't use tabs


# Simulation parameters
sim_params:
    sim_name: 'AbacusSummit_base_c000_ph000'                                 # which simulation
    sim_dir: /global/cfs/cdirs/desi/public/cosmosim/AbacusSummit/              # where is the simulation
    output_dir: '/pscratch/sd/s/siyizhao/fihobi/HODfit_test_z0/'          # where to output galaxy mocks
    subsample_dir: '/pscratch/sd/s/siyizhao/fihobi/subsample/'                 # where to output subsample data
    z_mock: 0.5                                                              # which redshift slice
    cleaned_halos: True                                                     # load cleaned halos?

prepare_sim:
    Nparallel_load: 5                                          # number of processes. peak memory usage will increase by this factor.
    Nthread_per_load: 'auto'                                   # number of threads per process (auto uses the affinity mask)

# HOD parameters
HOD_params:
    want_ranks: False               # want to implement satellite profile flexiblities?
    want_AB: False                  # are you planning on implementing assembly bias (AB)?
    # Ndim: 1024                     # size of grid for grid based local environment, we opted to use neighbor count based local environment instead
    density_sigma: 3               # scale radius in Mpc / h for local density calculation
    tracer_flags:                  # which tracer do we want?
        LRG: True
        ELG: False
        QSO: False
    want_rsd: True                 # want RSD?
    write_to_disk: True

    # parameters for setting up the HOD of LRGs
    LRG_params:
        logM_cut: 12.7019021
        logM1: 13.7904104
        sigma: 0.000480973438
        alpha: 0.863707976
        kappa: 1.81529475
        alpha_c: 0.210299419
        alpha_s: 0.888351433
        s: 0
        s_v: 0
        s_p: 0
        s_r: 0
        Acent: 0
        Asat: 0
        Bcent: 0
        Bsat: 0
        ic: 1.0

# clustering parameters
clustering_params:
    power_type: 'wp'
    bin_params:
        logmin: -1.4865240203108492
        logmax: 1.5129454469629389
        nbins: 18
    pimax: 40
    pi_bin_size: 80
    clustering_type: 'multipole'  # multipole clustering
    sbin_params:
        logmin: -0.6492552324451856
        logmax: 1.5178376995854341
        nbins: 13
    mu_bin_size: 200  # number of mu bins for multipole clustering

# parameters that indicate where the observed data that you would like to fit live.
data_params:
    tracer_density_mean:
        LRG: 5.272e-4 # (Mpc/h)^-3
    tracer_density_std:
        LRG: 5.272e-5 # (Mpc/h)^-3
    tracer_combos:
        LRG_LRG:
            path2data: '/global/homes/s/siyizhao/projects/fihobi/data/hodfit/lrg_data_cov_arocher.h5'

clustering_plots:
    path2wp: '/global/homes/s/siyizhao/projects/fihobi/AbacusHOD/plot/pmn/lrg_wp_arocher.png'
    path2xi0: '/global/homes/s/siyizhao/projects/fihobi/AbacusHOD/plot/pmn/lrg_xi0_arocher.png'
    path2xi2: '/global/homes/s/siyizhao/projects/fihobi/AbacusHOD/plot/pmn/lrg_xi2_arocher.png'